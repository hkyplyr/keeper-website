{% extends "layout.html" %}
{% block title %}Players{% endblock %}
{% block body %}
<div style="overflow-x:auto;">
<h2>Players</h2>
<table id="skaters">
    <tr>
        <th>Position</th>
        <th>Name</th>
        <th>GP</th>

        {% if sort_key == 'g' %}
        <th><a href="/skaters?sort=g" class="sort-header">Goals &#9662;</a></th>
        {% else %}
        <th><a href="/skaters?sort=g" class="sort-header">Goals</a></th>
        {% endif %}
        {% if sort_key == 'a' %}
        <th><a href="/skaters?sort=a" class="sort-header">Assists &#9662;</a></th>
        {% else %}
        <th><a href="/skaters?sort=a" class="sort-header">Assists</a></th>
        {% endif %}
        {% if sort_key == 'p' %}
        <th><a href="/skaters?sort=p" class="sort-header">Points &#9662;</a></th>
        {% else %}
        <th><a href="/skaters?sort=p" class="sort-header">Points</a></th>
        {% endif %}
        {% if sort_key == 'pm' %}
        <th><a href="/skaters?sort=pm" class="sort-header">+/- &#9662;</a></th>
        {% else %}
        <th><a href="/skaters?sort=pm" class="sort-header">+/-</a></th>
        {% endif %}
        {% if sort_key == 'ppp' %}
        <th><a href="/skaters?sort=ppp" class="sort-header">PPP &#9662;</a></th>
        {% else %}
        <th><a href="/skaters?sort=ppp" class="sort-header">PPP</a></th>
        {% endif %}
        {% if sort_key == 'shp' %}
        <th><a href="/skaters?sort=shp" class="sort-header">SHP &#9662;</a></th>
        {% else %}
        <th><a href="/skaters?sort=shp" class="sort-header">SHP</a></th>
        {% endif %}
        {% if sort_key == 'sog' %}
        <th><a href="/skaters?sort=sog" class="sort-header">SOG &#9662;</a></th>
        {% else %}
        <th><a href="/skaters?sort=sog" class="sort-header">SOG</a></th>
        {% endif %}
        {% if sort_key == 'hit' %}
        <th><a href="/skaters?sort=hit" class="sort-header">Hits &#9662;</a></th>
        {% else %}
        <th><a href="/skaters?sort=hit" class="sort-header">Hits</a></th>
        {% endif %}
        {% if sort_key == 'blk' %}
        <th><a href="/skaters?sort=blk" class="sort-header">Blocks &#9662;</a></th>
        {% else %}
        <th><a href="/skaters?sort=blk" class="sort-header">Blocks</a></th>
        {% endif %}
        {% if sort_key == 'fp' %}
        <th><a href="/skaters?sort=fp" class="sort-header">Fantasy Points &#9662;</a></th>
        {% else %}
        <th><a href="/skaters?sort=fp" class="sort-header">Fantasy Points</a></th>
        {% endif %}
    </tr>
{% for skater in skaters %}
    <tr>
        <td>{{ skater.positions }}</td>
        <td>{{ skater.first_name }} {{ skater.last_name }}</td>
        <td>{{ skater.gp }}</td>
        <td>{{ skater.g }}</td>
        <td>{{ skater.a }}</td>
        <td>{{ skater.p }}</td>
        <td>{{ skater.pm }}</td>
        <td>{{ skater.ppp }}</td>
        <td>{{ skater.shp }}</td>
        <td>{{ skater.sog }}</td>
        <td>{{ skater.hit }}</td>
        <td>{{ skater.blk }}</td>
        <td>{{ "%.2f"|format(skater.pts|round(2)) }}</td>
    </tr>
{% else %}
    <tr>
        <td>No skaters.</td>
    </tr>
{% endfor %}
</table>
</div>
{% if prev_url %}
<a href="{{ prev_url }}" >Previous</a>
{% else %}
Previous
{% endif %}
{% if next_url %}
<a href="{{ next_url }}" >Next</a>
{% else %}
Next
{% endif %}
{% endblock %}